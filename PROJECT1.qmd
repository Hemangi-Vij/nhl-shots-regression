---
title: "Do Shots on Goal Predict Goals in NHL Games?"
author: "Hemangi Vij"
date: "09/21/2025"
abstract: |
  Using shot-level data from the NHL 2021–22 season, we aggregate to the team–game level and examine whether the number of shots on goal predicts goals scored. A simple linear regression of goals on shots shows a statistically significant, positive association: teams that generate more shots tend to score more goals. While the effect is meaningful, residual diagnostics indicate remaining variation due to factors such as shot quality and goaltending.
format:
  pdf:
    toc: true
    number-sections: true
    df-print: kable
editor: visual
execute:
  echo: false      # hide code in the PDF (your assignment requires no raw R code/output) :contentReference[oaicite:1]{index=1}
  warning: false
  message: false
---

# Introduction

In ice hockey, a common assumption is that more shots on goal lead to more goals scored. Teams that shoot more are generally seen as creating more offensive chances, forcing the opposing goalie to make saves and increasing the likelihood of scoring.

Yet, goal scoring depends on more than just volume: shot quality, goaltending, and game situations also matter. Shot totals are simple to track, but their true predictive power for goals is less clear.

In this project, we use play-by-play data from the 2021–22 NHL season to test whether shots on goal significantly predict goals scored at the team–game level. By aggregating shot-level data and applying simple linear regression, we quantify the average impact of additional shots and evaluate the strength of this relationship.

The rest of this paper is structured as follows: Section 2 introduces the dataset, Section 3 describes the regression model, Section 4 presents results, and Section 5 discusses implications and limitations.


```{r}
# Install and load tidyverse for data manipulation
#if (!require("tidyverse")) install.packages("tidyverse")
library(tidyverse)
#| include: false
#| warning: false
#| message: false
library(tidyverse)
# Read the CSV file
df <- read_csv("Desktop/nhl-shots-2021.csv")

```

# Data

The dataset comes from the SCORE Sports Data Repository and contains every recorded shot during the 2021–22 NHL season. Each row in the raw data represents a single shot attempt, with details such as the shooting team, shot outcome (goal, saved, missed, or blocked), game identifier, and additional context about the play. In total, the dataset includes more than 160,000 shot events across all regular season games.

For this project, we aggregate the shot-level data to create team–game observations. Each row in the aggregated dataset corresponds to a single team in a single game, with two key variables:

-   **Shots:** the total number of shots on goal attempted by the team in that game.\
-   **Goals:** the number of those shots that resulted in goals.

This transformation reduces the dataset from more than 160,000 shot-level records to about 2,800 team–game rows (two rows per game, one for each team). These aggregated values provide the basis for our regression analysis, where we test whether the number of shots taken by a team is a useful predictor of the number of goals it scores.

To provide context, the average team in 2021–22 attempted around 60 shots in a game and scored about 3 goals, though variation between teams and games is considerable.

```{r}
# Load tidyverse for data manipulation
library(tidyverse)
# Read your dataset
df <- read_csv("Desktop/nhl-shots-2021.csv")

```

```{r} # Aggregate shots and goals at the team-game level}
nhl_team_game <- df %>%
  group_by(team = event_team, game_id) %>%
  summarise(
    shots = sum(shot_outcome == "SHOT"),
    goals = sum(event_type == "GOAL")
  ) %>%
  ungroup()

```

# Methods

The model is specified as:

$$
Goals_{ig} = \beta_0 + \beta_1 \cdot Shots_{ig} + \varepsilon_{ig}
$$

where (Goals\_{ig}) is the number of goals scored by team (i) in game (g), (Shots\_{ig}) is the number of shots on goal taken by that team, and (\varepsilon\_{ig}) represents random error.

```{r}

library(dplyr)

player_summary <- df %>%
  group_by(event_player_1_name) %>%
  summarise(
    total_shots  = n(),                       # if df is only shots; see C if it's mixed events
    shots_scored = sum(.data$goal, na.rm = TRUE),   # or .data$is_goal / .data$shots_scored
    .groups = "drop"
)

```

```{r}
# Fit linear regression: shots_scored ~ total_shots
fit <- lm(shots_scored ~ total_shots, data = player_summary)
summary(fit)

```

```{r}
# Scatter plot of shots_scored vs total_shots per player
ggplot(player_summary, aes(x = total_shots, y = shots_scored)) +
  geom_point(color = "blue") +
  labs(
    title = "Shots Scored vs Total Shots per Player",
    x = "Total Shots",
    y = "Shots Scored"
  ) +
  theme_minimal()

```

# Results

The simple linear regression of goals on shots produced the following estimates:

-   **Intercept (β₀ = 2.39):** A team with zero shots would be predicted to score about 2.4 goals. This value is not realistic but represents the baseline where the regression line crosses the y-axis.\
-   **Slope (β₁ = 0.014):** On average, each additional shot is associated with an increase of about 0.014 goals. This means that roughly seven extra shots correspond to 0.1 more goals.\
-   **R² = 0.008:** Shot volume explains less than 1% of the variation in goals scored across games.\
-   **p \< 0.001:** The positive relationship between shots and goals is statistically significant.

A scatterplot of shots versus goals with the fitted regression line is shown below.

\`\`\`{r} ggplot(nhl_team_game, aes(x = shots, y = goals)) + geom_point(alpha = 0.3) + geom_smooth(method = "lm", se = FALSE, color = "blue") + labs(title = "Relationship between Shots on Goal and Goals Scored", x = "Shots on Goal", y = "Goals Scored")
 

# 
